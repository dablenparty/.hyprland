# Maintainer: Your Name <youremail@domain.com>
_pkgname=pipes.sh
pkgname="${_pkgname}-git"
pkgver=1.3.0.r27.g581792d
pkgrel=1
pkgdesc="Hyprland provides the latest Wayland features, dynamic tiling, all the eyecandy, powerful plugins and much more, while still being lightweight and responsive"
arch=(x86_64)
url="https://hyprland.org/"
license=('BSD-3')
depends=(
  bash
  ncurses
 )
makedepends=(
  git
)
provides=("$_pkgname=${pkgver/\.r*/}")
conflicts=(bash-pipes)
source=("git+https://github.com/pipeseroni/$_pkgname.git")
noextract=()
sha256sums=('SKIP')

pkgver() {
  cd "$srcdir/$_pkgname" || exit 1

  # Git, tags available
  printf "%s" "${ git describe --long --tags --abbrev=7 | sed 's/^v//;s/\([^-]*-g\)/r\1/;s/-/./g'; }"
}

build() {
  cd "$srcdir/$_pkgname" || exit 1
  make all
}

package() {
  cd "$srcdir/$_pkgname" || exit 1
  make DESTDIR="$pkgdir/" install
}
